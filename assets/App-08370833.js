import{_ as B,r as R,o as v,c as h,b as $,n as z,i as Q,g as k,z as U,K as Y,W as J,a0 as T,X as D,a as e,w as s,l as i,a1 as N,j as A,$ as Z,p as j,e as q,a2 as G,a3 as ee,a4 as le,F as S,h as L,t as P,A as V,H as te,k as ne,a5 as ae,a6 as se,a7 as K,a8 as H,a9 as W,f as X}from"./index-c835e2e2.js";import{F as ie}from"./Footer-13f2edcc.js";const de=["title","onClick"],ue={__name:"ActionButton",props:{tooltipText:{type:String,default:""},icon:{type:String,default:"fa-xmark"},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onClick:{type:Function,default:()=>{}}},setup(r){const f=r;function t(){f.disabled||f.onClick()}return(g,w)=>{const y=R("font-awesome-icon");return v(),h("a",{class:z(["btn",r.disabled?"disabled":"",r.selected?"selected":""]),title:r.tooltipText,onClick:Q(t,["prevent"])},[$(y,{icon:["fa-solid",r.icon]},null,8,["icon"])],10,de)}}},F=B(ue,[["__scopeId","data-v-f40a4f9c"]]);const b=r=>(j("data-v-53c5c851"),r=r(),q(),r),re=b(()=>e("h3",null,"Basic information - farm",-1)),ce={class:"row"},pe={class:"inputfield"},me=b(()=>e("label",{for:"farm-register-id"},"Farm Register ID",-1)),ve={class:"inputfield"},_e=b(()=>e("label",{for:"farm-name"},"Farm Name",-1)),fe={class:"row"},he={class:"inputfield"},be=b(()=>e("label",{for:"state"},"State",-1)),ye={class:"inputfield"},Ce=b(()=>e("label",{for:"city"},"City",-1)),ge={class:"inputfield"},$e=b(()=>e("label",{for:"postal-code"},"Postal Code",-1)),we={class:"row"},xe={class:"inputfield"},Ie=b(()=>e("label",{for:"street"},"Street",-1)),Ve=b(()=>e("h3",null,"Person in possession",-1)),ke={class:"radios"},Fe={class:"choice"},Ue=b(()=>e("label",{for:"legal"},"Legal Person",-1)),Be={class:"choice"},Ne=b(()=>e("label",{for:"natural"},"Natural Person",-1)),De={key:0,class:"row"},Se={class:"inputfield"},Le=b(()=>e("label",{for:"business-id"},"Business ID",-1)),Pe={class:"inputfield"},Re=b(()=>e("label",{for:"business-name"},"Business Name",-1)),Ae={key:1},Ee={class:"row"},Me={class:"inputfield"},Oe=b(()=>e("label",{for:"degree-before"},"Degree Before",-1)),Te={class:"inputfield"},Ge=b(()=>e("label",{for:"firstname"},"First Name",-1)),ze={class:"inputfield"},Qe=b(()=>e("label",{for:"lastname"},"Last Name",-1)),je={class:"inputfield"},qe=b(()=>e("label",{for:"degree-after"},"Degree After",-1)),Ke={class:"row"},He={class:"inputfield"},We=b(()=>e("label",{for:"birthdate"},"Birthdate",-1)),Xe=b(()=>e("h3",null,"Person in possession address",-1)),Ye={class:"row"},Je={class:"inputfield"},Ze=b(()=>e("label",{for:"state"},"State",-1)),et={class:"inputfield"},tt=b(()=>e("label",{for:"city"},"City",-1)),ot={class:"inputfield"},lt=b(()=>e("label",{for:"postal-code"},"Postal Code",-1)),nt={class:"row"},at={class:"inputfield"},st=b(()=>e("label",{for:"street"},"Street",-1)),it=b(()=>e("button",{type:"submit"},"Update",-1)),dt={__name:"InfoFarm",props:{farmId:{String,default:null}},setup(r){const f=r,t=k({registerId:null,name:null,state:null,city:null,postalCode:null,street:null,possession:"legal",legalBusinessId:null,legalBusinessName:null,naturalDegreeBefore:null,naturalDegreeAfter:null,naturalFirstName:null,naturalLastName:null,naturalBirthdate:null,possessionState:null,possessionCity:null,possessionPostalCode:null,possessionStreet:null}),g=U(()=>{let y={};for(const n in t.value)t.value[n]!==void 0&&(t.value[n]===""?y[n]=null:y[n]=t.value[n]);return y});Y(()=>f.farmId,()=>{J(T(f.farmId)).then(y=>{for(const n in t.value)t.value[n]=y.data()[n]})}),D(T(f.farmId),y=>{for(const n in t.value)t.value[n]=y.data()[n]});function w(){Z(T(f.farmId),g.value)}return(y,n)=>(v(),h("form",{id:"form",onSubmit:n[19]||(n[19]=Q(a=>w(),["prevent"]))},[e("div",null,[re,e("div",ce,[e("div",pe,[me,s(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>t.value.registerId=a),type:"text",name:"farm-register-id"},null,512),[[i,t.value.registerId]])]),e("div",ve,[_e,s(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>t.value.name=a),type:"text",name:"farm-name"},null,512),[[i,t.value.name]])])]),e("div",fe,[e("div",he,[be,s(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>t.value.state=a),type:"text",name:"state"},null,512),[[i,t.value.state]])]),e("div",ye,[Ce,s(e("input",{"onUpdate:modelValue":n[3]||(n[3]=a=>t.value.city=a),type:"text",name:"city"},null,512),[[i,t.value.city]])]),e("div",ge,[$e,s(e("input",{"onUpdate:modelValue":n[4]||(n[4]=a=>t.value.postalCode=a),type:"text",name:"postal-code"},null,512),[[i,t.value.postalCode]])])]),e("div",we,[e("div",xe,[Ie,s(e("input",{"onUpdate:modelValue":n[5]||(n[5]=a=>t.value.street=a),type:"text",name:"street"},null,512),[[i,t.value.street]])])])]),e("div",null,[Ve,e("div",ke,[e("div",Fe,[s(e("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>t.value.possession=a),type:"radio",id:"legal",name:"person",value:"legal",checked:""},null,512),[[N,t.value.possession]]),Ue]),e("div",Be,[s(e("input",{"onUpdate:modelValue":n[7]||(n[7]=a=>t.value.possession=a),type:"radio",id:"natural",name:"person",value:"natural"},null,512),[[N,t.value.possession]]),Ne])]),t.value.possession==="legal"?(v(),h("div",De,[e("div",Se,[Le,s(e("input",{"onUpdate:modelValue":n[8]||(n[8]=a=>t.value.legalBusinessId=a),type:"text",name:"business-id"},null,512),[[i,t.value.legalBusinessId]])]),e("div",Pe,[Re,s(e("input",{"onUpdate:modelValue":n[9]||(n[9]=a=>t.value.legalBusinessName=a),type:"text",name:"business-name"},null,512),[[i,t.value.legalBusinessName]])])])):A("",!0),t.value.possession==="natural"?(v(),h("div",Ae,[e("div",Ee,[e("div",Me,[Oe,s(e("input",{"onUpdate:modelValue":n[10]||(n[10]=a=>t.value.naturalDegreeBefore=a),type:"text",name:"degree-before"},null,512),[[i,t.value.naturalDegreeBefore]])]),e("div",Te,[Ge,s(e("input",{"onUpdate:modelValue":n[11]||(n[11]=a=>t.value.naturalFirstName=a),type:"text",name:"firstname"},null,512),[[i,t.value.naturalFirstName]])]),e("div",ze,[Qe,s(e("input",{"onUpdate:modelValue":n[12]||(n[12]=a=>t.value.naturalLastName=a),type:"text",name:"lastname"},null,512),[[i,t.value.naturalLastName]])]),e("div",je,[qe,s(e("input",{"onUpdate:modelValue":n[13]||(n[13]=a=>t.value.naturalDegreeAfter=a),type:"text",name:"degree-after"},null,512),[[i,t.value.naturalDegreeAfter]])])]),e("div",Ke,[e("div",He,[We,s(e("input",{"onUpdate:modelValue":n[14]||(n[14]=a=>t.value.naturalBirthdate=a),type:"date",name:"birthdate"},null,512),[[i,t.value.naturalBirthdate]])])])])):A("",!0),Xe,e("div",Ye,[e("div",Je,[Ze,s(e("input",{"onUpdate:modelValue":n[15]||(n[15]=a=>t.value.possessionState=a),type:"text",name:"state"},null,512),[[i,t.value.possessionState]])]),e("div",et,[tt,s(e("input",{"onUpdate:modelValue":n[16]||(n[16]=a=>t.value.possessionCity=a),type:"text",name:"city"},null,512),[[i,t.value.possessionCity]])]),e("div",ot,[lt,s(e("input",{"onUpdate:modelValue":n[17]||(n[17]=a=>t.value.possessionPostalCode=a),type:"text",name:"postal-code"},null,512),[[i,t.value.possessionPostalCode]])])]),e("div",nt,[e("div",at,[st,s(e("input",{"onUpdate:modelValue":n[18]||(n[18]=a=>t.value.possessionStreet=a),type:"text",name:"street"},null,512),[[i,t.value.possessionStreet]])])])]),it],32))}},ut=B(dt,[["__scopeId","data-v-53c5c851"]]);const p=r=>(j("data-v-d659ac4a"),r=r(),q(),r),rt=p(()=>e("h3",null,"Basic information - cow",-1)),ct={class:"row"},pt={class:"inputfield"},mt=p(()=>e("label",{for:"country-code"},"Cow Country Code",-1)),vt={class:"inputfield"},_t=p(()=>e("label",{for:"number"},"Cow ID",-1)),ft={class:"row"},ht={class:"inputfield"},bt=p(()=>e("label",{for:"country-code-original"},"Original Cow Country Code",-1)),yt={class:"inputfield"},Ct=p(()=>e("label",{for:"number-original"},"Original Cow ID",-1)),gt={class:"row"},$t={class:"inputfield"},wt=p(()=>e("label",{for:"birthdate"},"Birthdate",-1)),xt={class:"inputfield"},It=p(()=>e("label",{for:"deathdate"},"Deathdate",-1)),Vt={class:"inputfield"},kt=p(()=>e("label",{for:"coloration"},"Coloration ID",-1)),Ft={id:"colorations"},Ut=["value"],Bt={class:"input-after",style:{"pointer-events":"none"}},Nt={style:{"padding-top":"1em"}},Dt=p(()=>e("h3",null,"Gender",-1)),St={class:"radios"},Lt={class:"choice"},Pt=p(()=>e("label",{for:"male"},"Male",-1)),Rt={class:"choice"},At=p(()=>e("label",{for:"female"},"Female",-1)),Et={key:0,class:"radios"},Mt=p(()=>e("h3",null,"Utility Focus",-1)),Ot={class:"choice"},Tt=p(()=>e("label",{for:"dairy"},"Dairy Cow",-1)),Gt={class:"choice"},zt=p(()=>e("label",{for:"lactating"},"Lactating Cow",-1)),Qt={class:"choice"},jt=p(()=>e("label",{for:"undefined"},"Undefined",-1)),qt=p(()=>e("h3",null,"Genealogy",-1)),Kt={class:"row"},Ht={class:"inputfield"},Wt=p(()=>e("label",{for:"father-line"},"Father Line",-1)),Xt={class:"inputfield"},Yt=p(()=>e("label",{for:"father-register"},"Father Register",-1)),Jt={class:"row"},Zt={class:"inputfield"},eo=p(()=>e("label",{for:"mother-country-code"},"Mother Country Code",-1)),to={class:"inputfield"},oo=p(()=>e("label",{for:"mother-number"},"Mother ID",-1)),lo={class:"row"},no={class:"inputfield"},ao=p(()=>e("label",{for:"donor-country-code"},"Donor Country Code",-1)),so={class:"inputfield"},io=p(()=>e("label",{for:"donor-number"},"Donor ID",-1)),uo=p(()=>e("h3",null,"Breed composition",-1)),ro={class:"row"},co={class:"breeds-col"},po={class:"row"},mo={class:"inputfield"},vo=p(()=>e("label",{for:"breed-id"},"Breed ID",-1)),_o=["onUpdate:modelValue"],fo={id:"breeds"},ho=["value"],bo={class:"input-after",style:{"pointer-events":"none"}},yo={class:"inputfield"},Co=p(()=>e("label",{for:"breed-percentage"},"Percentage",-1)),go=["onUpdate:modelValue","max"],$o=p(()=>e("div",{class:"input-after",style:{"pointer-events":"none"}},[e("p",null,"%")],-1)),wo=["onClick"],xo=p(()=>e("button",{type:"submit"},"Update",-1)),Io={__name:"InfoCow",props:{farmId:{String,default:null},cowId:{String,default:null}},setup(r){const f=r,t=k({countryCode:null,number:null,originalCountryCode:null,originalNumber:null,birthdate:null,deathdate:null,coloration:null,male:null,lactating:null,fatherLine:null,fatherRegister:null,motherCountryCode:null,motherNumber:null,donorCountryCode:null,donorNumber:null,breedComposition:null}),g=k([]),w=k([]),y=k({width:500,height:300,backgroundColor:"transparent",pieSliceBorderColor:"transparent",slices:{0:{color:"#ccc"}},legend:{position:"labeled",textStyle:{color:"#888",fontName:"Outfit",fontSize:12,bold:!0}},pieSliceText:"none",tooltip:{text:"percentage"}}),n=U(()=>{let m=[["Breed Id","Percentage"],["Free",C.value]];return t.value.breedComposition&&m.push(...t.value.breedComposition.map(o=>[o.id,o.percentage])),m}),a=U(()=>{let m={};for(const o in t.value)t.value[o]!==void 0&&(t.value[o]===""?m[o]=null:m[o]=t.value[o]);return m}),C=U(()=>{let m=100;return t.value.breedComposition&&t.value.breedComposition.map(o=>m-=o.percentage),m});Y(()=>f.cowId,()=>{J(G(f.farmId,f.cowId)).then(m=>{for(const o in t.value)t.value[o]=m.data()[o]})}),D(ee,m=>{m.docs.forEach(o=>{g.value.push(o.data())})}),D(le,m=>{m.docs.forEach(o=>{w.value.push(o.data())})}),D(G(f.farmId,f.cowId),m=>{for(const o in t.value)t.value[o]=m.data()[o]});function c(){Z(G(f.farmId,f.cowId),a.value)}function x(){t.value.breedComposition?t.value.breedComposition.length<5&&t.value.breedComposition.push({id:g.value[0].id,percentage:0}):t.value.breedComposition=[{id:g.value[0].id,percentage:0}]}function M(m){if(t.value.breedComposition.length>1){let o=t.value.breedComposition.findIndex(_=>_.id===m);o>-1&&t.value.breedComposition.splice(o,1)}}return(m,o)=>{const _=R("font-awesome-icon"),u=R("GChart");return v(),h("form",{id:"form",onSubmit:o[19]||(o[19]=Q(l=>c(),["prevent"]))},[e("div",null,[rt,e("div",ct,[e("div",pt,[mt,s(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value.countryCode=l),type:"text",name:"country-code"},null,512),[[i,t.value.countryCode]])]),e("div",vt,[_t,s(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.number=l),type:"text",name:"number"},null,512),[[i,t.value.number]])])]),e("div",ft,[e("div",ht,[bt,s(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t.value.originalCountryCode=l),type:"text",name:"country-code-original"},null,512),[[i,t.value.originalCountryCode]])]),e("div",yt,[Ct,s(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>t.value.originalNumber=l),type:"text",name:"number-original"},null,512),[[i,t.value.originalNumber]])])]),e("div",gt,[e("div",$t,[wt,s(e("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>t.value.birthdate=l),type:"date",name:"birthdate"},null,512),[[i,t.value.birthdate]])]),e("div",xt,[It,s(e("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>t.value.deathdate=l),type:"date",name:"deathdate"},null,512),[[i,t.value.deathdate]])])]),e("div",Vt,[kt,s(e("input",{"onUpdate:modelValue":o[6]||(o[6]=l=>t.value.coloration=l),type:"text",name:"coloration",list:"colorations"},null,512),[[i,t.value.coloration]]),e("datalist",Ft,[(v(!0),h(S,null,L(w.value,l=>(v(),h("option",{value:l.id},P(l.color),9,Ut))),256))]),e("div",Bt,[$(_,{icon:"fas fa-angle-down"})])]),e("div",Nt,[Dt,e("div",St,[e("div",Lt,[s(e("input",{"onUpdate:modelValue":o[7]||(o[7]=l=>t.value.male=l),type:"radio",id:"male",name:"gender",value:!0},null,512),[[N,t.value.male]]),Pt]),e("div",Rt,[s(e("input",{"onUpdate:modelValue":o[8]||(o[8]=l=>t.value.male=l),type:"radio",id:"female",name:"gender",value:!1},null,512),[[N,t.value.male]]),At])]),t.value.male===!1?(v(),h("div",Et,[Mt,e("div",Ot,[s(e("input",{"onUpdate:modelValue":o[9]||(o[9]=l=>t.value.lactating=l),type:"radio",id:"dairy",name:"utilityFocus",value:!1},null,512),[[N,t.value.lactating]]),Tt]),e("div",Gt,[s(e("input",{"onUpdate:modelValue":o[10]||(o[10]=l=>t.value.lactating=l),type:"radio",id:"lactating",name:"utilityFocus",value:!0},null,512),[[N,t.value.lactating]]),zt]),e("div",Qt,[s(e("input",{"onUpdate:modelValue":o[11]||(o[11]=l=>t.value.lactating=l),type:"radio",id:"undefined",name:"utilityFocus",value:null},null,512),[[N,t.value.lactating]]),jt])])):A("",!0)])]),e("div",null,[qt,e("div",Kt,[e("div",Ht,[Wt,s(e("input",{"onUpdate:modelValue":o[12]||(o[12]=l=>t.value.fatherLine=l),type:"text",name:"father-line"},null,512),[[i,t.value.fatherLine]])]),e("div",Xt,[Yt,s(e("input",{"onUpdate:modelValue":o[13]||(o[13]=l=>t.value.fatherRegister=l),type:"text",name:"father-register"},null,512),[[i,t.value.fatherRegister]])])]),e("div",Jt,[e("div",Zt,[eo,s(e("input",{"onUpdate:modelValue":o[14]||(o[14]=l=>t.value.motherCountryCode=l),type:"text",name:"mother-country-code"},null,512),[[i,t.value.motherCountryCode]])]),e("div",to,[oo,s(e("input",{"onUpdate:modelValue":o[15]||(o[15]=l=>t.value.motherNumber=l),type:"text",name:"mother-number"},null,512),[[i,t.value.motherNumber]])])]),e("div",lo,[e("div",no,[ao,s(e("input",{"onUpdate:modelValue":o[16]||(o[16]=l=>t.value.donorCountryCode=l),type:"text",name:"donor-country-code"},null,512),[[i,t.value.donorCountryCode]])]),e("div",so,[io,s(e("input",{"onUpdate:modelValue":o[17]||(o[17]=l=>t.value.donorNumber=l),type:"text",name:"donor-number"},null,512),[[i,t.value.donorNumber]])])])]),e("div",null,[uo,e("div",ro,[$(u,{type:"PieChart",data:V(n),options:y.value},null,8,["data","options"]),e("div",co,[(v(!0),h(S,null,L(t.value.breedComposition,l=>(v(),h("div",po,[e("div",mo,[vo,s(e("input",{"onUpdate:modelValue":d=>l.id=d,type:"text",name:"breed-id",list:"breeds"},null,8,_o),[[i,l.id]]),e("datalist",fo,[(v(!0),h(S,null,L(g.value,d=>(v(),h("option",{value:d.id},P(d.name),9,ho))),256))]),e("div",bo,[$(_,{icon:"fas fa-angle-down"})])]),e("div",yo,[Co,s(e("input",{"onUpdate:modelValue":d=>l.percentage=d,type:"number",min:"0",max:V(C)+l.percentage,name:"breed-percentage"},null,8,go),[[i,l.percentage]]),$o]),e("a",{onClick:d=>M(l.id),class:"delete"},[$(_,{icon:"fas fa-trash-can"})],8,wo)]))),256)),!t.value.breedComposition||t.value.breedComposition&&t.value.breedComposition.length<5?(v(),h("a",{key:0,onClick:o[18]||(o[18]=l=>x()),class:"row"},[$(_,{icon:"fas fa-plus"})])):A("",!0)])])]),xo],32)}}},Vo=B(Io,[["__scopeId","data-v-d659ac4a"]]),ko={};function Fo(r,f){return v(),h("h3",null,"Movements - farm")}const Uo=B(ko,[["render",Fo]]),Bo={};function No(r,f){return v(),h("h3",null,"Movements - cow")}const Do=B(Bo,[["render",No]]);const So={class:"breed-composition"},Lo={key:0},Po={__name:"Cows",props:{farm:{default:null}},setup(r){const f=r,t=k({}),g=k([{text:"Cow Country Code",value:"countryCode",sortable:!0},{text:"Cow Number",value:"number",sortable:!0},{text:"Original Country Code",value:"originalCountryCode",sortable:!0},{text:"Original Number",value:"originalNumber",sortable:!0},{text:"Birthdate (yyyy-mm-dd)",value:"birthdate",sortable:!0},{text:"Deathdate (yyyy-mm-dd)",value:"deathdate",sortable:!0},{text:"Coloration",value:"coloration",sortable:!0},{text:"Gender",value:"male",sortable:!0},{text:"Utility Focus",value:"lactating",sortable:!0},{text:"Father Line",value:"fatherLine",sortable:!0},{text:"Father Register",value:"fatherRegister",sortable:!0},{text:"Mother Country Code",value:"motherCountryCode",sortable:!0},{text:"Mother Number",value:"motherNumber",sortable:!0},{text:"Donor Country Code",value:"donorCountryCode",sortable:!0},{text:"Donor Number",value:"donorNumber",sortable:!0}]),w=k({width:500,height:300,backgroundColor:"transparent",pieSliceBorderColor:"transparent",slices:{0:{color:"#ccc"}},legend:{position:"labeled",textStyle:{color:"#888",fontName:"Outfit",fontSize:12,bold:!0}},pieSliceText:"none",tooltip:{text:"percentage"}}),y=U(()=>{let C=f.farm.cows;return C.map(c=>{if(c.male!==void 0&&(c.male=c.male===!0?"Male":"Female"),c.lactating!==void 0&&(c.lactating=c.lactating===!0?"Lactating Cow":"Dairy Cow"),c.coloration!==void 0)switch(c.coloration){case"0":c.coloration="Black";break;case"1":c.coloration="Red";break;case"2":c.coloration="Yellow-spotted";break;case"3":c.coloration="Brown";break;case"4":c.coloration="Other";break}}),C});D(ee,C=>{C.docs.forEach(c=>{t.value[c.data().id]=c.data()})});function n(C){let c=[["Breed Id","Percentage"],["Free",a(C)]];return C.breedComposition&&c.push(...C.breedComposition.map(x=>[x.id,x.percentage])),c}function a(C){let c=100;return C.breedComposition&&C.breedComposition.map(x=>c-=x.percentage),c}return(C,c)=>{const x=R("GChart"),M=R("EasyDataTable");return v(),te(M,{headers:g.value,items:V(y),"theme-color":"#5A6BFF","show-index":"","table-class-name":"table","header-text-direction":"center","body-text-direction":"center","buttons-pagination":"","no-hover":""},{expand:ne(m=>[e("div",So,[e("ul",null,[(v(!0),h(S,null,L(m.breedComposition,o=>(v(),h("li",null,P(`(${o.id}) ${t.value[o.id].name} = ${o.percentage}%`),1))),256)),m.breedComposition?A("",!0):(v(),h("li",Lo,"(F) Free = 100%"))]),$(x,{type:"PieChart",data:n(m),options:w.value},null,8,["data","options"])])]),_:1},8,["headers","items"])}}},Ro=B(Po,[["__scopeId","data-v-98a426af"]]),Ao={};function Eo(r,f){return v(),h("h3",null,"Individual Register")}const Mo=B(Ao,[["render",Eo]]);const E=r=>(j("data-v-0da157d1"),r=r(),q(),r),Oo=E(()=>e("section",{class:"error"},[e("div",{class:"page-error"},[e("h1",{class:"content-header"},"App not loaded"),e("p",null,[X("Error 108 - Need more width."),e("br"),X("Try using computer or resize window.")])])],-1)),To=E(()=>e("div",{class:"navbar-backdrop"},null,-1)),Go={class:"container"},zo={class:"hierarchy"},Qo={class:"search-container"},jo={class:"tree"},qo={open:""},Ko=["onClick"],Ho=["onClick"],Wo={class:"main"},Xo={class:"tools"},Yo={class:"btn-list"},Jo=E(()=>e("hr",null,null,-1)),Zo=E(()=>e("hr",null,null,-1)),el={class:"bottom-row"},tl=E(()=>e("hr",null,null,-1)),ol={class:"content"},ll=E(()=>e("hr",null,null,-1)),nl={__name:"App",setup(r){const f=k([]),t=k(null),g=k(null),w=k(""),y=ae("info"),n=U(()=>({info:{id:"info",component:g.value!=null?Vo:ut},movements:{id:"movements",component:g.value!=null?Do:Uo},cows:{id:"cows",component:Ro},individualRegister:{id:"individualRegister",component:Mo}})),a=U(()=>{const _=document.querySelectorAll("details");let u=f.value;return w.value&&(_.forEach(l=>{l.setAttribute("open","")}),u=u.filter(l=>l.cows.some(d=>d.number.toLowerCase().includes(w.value.toLowerCase()))).map(l=>{const d=l.cows.filter(I=>I.number.toLowerCase().includes(w.value.toLowerCase()));return{...l,cows:d}})),u}),C=U(()=>t.value!=null?f.value.find(_=>_.id===t.value):null);U(()=>{if(C.value!=null){let _=C.value.cows.find(u=>u.id===g.value);return _===void 0?null:_}else return null}),D(H,_=>{_.forEach(u=>{D(K(u.data().id),()=>{c()})})});function c(){W(H).then(_=>{let u=[];_.docs.forEach(l=>{W(K(l.data().id)).then(d=>{let I=[];d.docs.forEach(oe=>{I.push(oe.data())});let O=l.data();O.cows=I,u.push(O),u.length===_.docs.length&&(f.value=u)}).catch(d=>{console.log(d)})})})}function x(_){y.value=_}function M(){t.value=null,g.value=null}function m(_){t.value!=null&&(g.value=null),t.value=_;const u=document.querySelectorAll(".farm details");u.forEach(l=>{l.addEventListener("click",()=>{u.forEach(d=>{d!==l&&d.removeAttribute("open")})})})}function o(_){g.value=_}return(_,u)=>{const l=R("font-awesome-icon");return v(),h(S,null,[Oo,To,e("div",Go,[e("div",zo,[e("div",Qo,[$(l,{class:"search-icon",icon:"fa-solid fa-search"}),s(e("input",{type:"text",placeholder:"Search...","onUpdate:modelValue":u[0]||(u[0]=d=>w.value=d)},null,512),[[i,w.value]])]),e("ul",jo,[e("li",null,[e("details",qo,[e("summary",{onClick:u[1]||(u[1]=d=>M())},"Farms"),e("ul",null,[(v(!0),h(S,null,L(V(a),d=>(v(),h("li",{key:d.id,class:z(["farm",d.id==t.value?"active":""])},[e("details",null,[e("summary",{onClick:I=>m(d.id)},P(d.name),9,Ko),e("ul",null,[(v(!0),h(S,null,L(d.cows,I=>(v(),h("li",{key:I.id,class:z(["cow",I.isMale?"male":"female",I.id==g.value?"active":""]),onClick:O=>o(I.id)},P((I.countryCode===void 0?"":I.countryCode)+" "+I.number),11,Ho))),128))])])],2))),128))])])])])]),e("div",Wo,[t.value!=null?(v(),te(se(V(n)[V(y)].component),{key:0,farmId:t.value,cowId:g.value,farm:V(C)},null,8,["farmId","cowId","farm"])):A("",!0)]),e("div",Xo,[e("ul",Yo,[e("li",null,[$(F,{icon:"fa-arrow-down","tooltip-text":"Flow",disabled:t.value==null},null,8,["disabled"])]),e("li",null,[$(F,{icon:"fa-file-arrow-down","tooltip-text":"Edit / view flow",disabled:t.value==null},null,8,["disabled"])]),e("li",null,[$(F,{icon:"fa-arrow-up","tooltip-text":"Retraction",disabled:t.value==null},null,8,["disabled"])]),e("li",null,[$(F,{icon:"fa-file-arrow-up","tooltip-text":"Edit / view retraction",disabled:t.value==null},null,8,["disabled"])]),Jo,e("li",null,[$(F,{icon:"fa-info","tooltip-text":"Basic information",onClick:u[2]||(u[2]=d=>x("info")),selected:V(y)==="info",disabled:t.value==null&&g.value==null},null,8,["selected","disabled"])]),e("li",null,[$(F,{icon:"fa-arrow-right-arrow-left","tooltip-text":"Movements",onClick:u[3]||(u[3]=d=>x("movements")),selected:V(y)==="movements",disabled:t.value==null&&g.value==null},null,8,["selected","disabled"])]),e("li",null,[$(F,{icon:"fa-cow","tooltip-text":"Cows",onClick:u[4]||(u[4]=d=>x("cows")),selected:V(y)==="cows",disabled:t.value==null},null,8,["selected","disabled"])]),e("li",null,[$(F,{icon:"fa-folder-open","tooltip-text":"Individual register",onClick:u[5]||(u[5]=d=>x("individualRegister")),selected:V(y)==="individualRegister",disabled:t.value==null},null,8,["selected","disabled"])]),Zo,e("li",null,[$(F,{icon:"fa-file-pdf","tooltip-text":"Current to PDF",disabled:t.value==null},null,8,["disabled"])]),e("li",null,[$(F,{icon:"fa-bullhorn","tooltip-text":"Report changes",disabled:t.value==null},null,8,["disabled"])]),e("li",null,[$(F,{icon:"fa-file-contract","tooltip-text":"Document of relocation",disabled:t.value==null},null,8,["disabled"])])])]),e("div",el,[tl,e("div",ol,[e("p",null,"Farm cow count: "+P(V(C)!=null?V(C).cows.length:"-"),1)]),ll])]),$(ie)],64)}}},il=B(nl,[["__scopeId","data-v-0da157d1"]]);export{il as default};
